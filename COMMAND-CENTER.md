# COMMAND-CENTER.md

This file describes the local **Arden Router Command Center** and related command-center ideas. Everything here is **safe workspace only** (no access outside `/home/mikegg/.openclaw/workspace` unless you explicitly ask).

High-level goals:
- Neon cyberpunk **Router Command Center** dashboard (Arden as operator)
- Router observability (health, budget, context trimming) via logs + /health
- Optional scheduled scripts, logs, and task tracking for broader command-center workflows

---

## 1. Directory layout

Proposed structure under this workspace:

- `scripts/` – helper scripts (bash, python, etc.)
  - `scripts/maintenance/` – routine checks, reports
  - `scripts/tools/` – one-off utilities
- `logs/` – logs generated by scripts and Arden
  - `logs/system/` – outputs from system-related checks (run via commands you request)
  - `logs/agents/` – Arden-specific logs or summaries
- `tasks/` – task tracking and planning
  - `tasks/inbox.md` – quick dump of new tasks
  - `tasks/today.md` – today's focus
  - `tasks/backlog.md` – longer-term tasks
- `configs/` – configuration for scripts & command center behavior
  - `configs/schedule.md` – what runs when
  - `configs/command-center.md` – knobs for how Arden behaves here

These are all inside `/home/mikegg/.openclaw/workspace` to respect the "safe workspace only" rule.

---

## 2. Scheduled scripts (conceptual)

Because Arden must **not** access outside the workspace unless you explicitly ask, the plan is:

- You (or a cron/systemd job you configure) call scripts **inside** this workspace.
- Scripts write their outputs to `logs/`.
- Arden reads and summarizes those logs when you ask in WebUI or Telegram.

Examples of scripts (to be created under `scripts/`):

- `scripts/maintenance/disk-usage.sh`
  - Runs `df -h` or similar (when you explicitly allow) and logs results to `logs/system/disk-usage-YYYYMMDD.log`.
- `scripts/maintenance/pkg-updates.sh`
  - Checks for updates (again, only on explicit request) and logs to `logs/system/pkg-updates-YYYYMMDD.log`.
- `scripts/maintenance/health-summary.sh`
  - Aggregates multiple checks into one report.

Scheduling plan (documented in `configs/schedule.md`):

- You define: "run disk-usage script daily at 09:00" (cron or systemd timer outside this workspace).
- Arden does **not** set up cron directly; instead, Arden:
  - Generates the script content inside `scripts/`.
  - Suggests the cron/systemd lines for you to copy/paste.

This respects the "no sudo" and "safe workspace only" constraints.

---

## 3. Logs

Logging strategy:

- All script outputs go under `logs/`.
- File naming convention: `logs/<area>/<name>-YYYYMMDD[-HHMM].log`
- Arden can:
  - Summarize logs on request.
  - Compare today's logs to previous runs.
  - Highlight anomalies or trends.

Example log types:

- `logs/system/disk-usage-20260221.log`
- `logs/system/pkg-updates-20260221.log`
- `logs/agents/summary-20260221.md` – Arden's written summaries for the day.

---

## 4. Task tracking

### Core files

Under `tasks/`:

- `tasks/inbox.md`
  - Quick capture of tasks (anything you throw at Arden like "remind me to ..." can be appended here).
- `tasks/today.md`
  - Focus list for today. Arden can help curate this from `inbox.md` + context.
- `tasks/backlog.md`
  - Longer-term ideas and projects.

### Format

Use simple markdown checklists:

```markdown
- [ ] Task description (short)
  - notes: optional details
  - tags: #sysadmin #home-lab
- [x] Completed task
```

Arden can:
- Add items to these lists when you instruct it.
- Move items between `inbox`, `today`, and `backlog` (after asking, per your rules about moving files/content).
- Generate daily/weekly summaries from the task files.

---

## 5. Sysadmin focus (Mission Control)

This command center exists to give Mike **verifiable signal** that things are working:
routing activity, API spend, model selection, local inference health (4090 LM Studio vs 2080 Ollama),
and basic system resource visibility — without breaking the truth rules.

### What this mission control should show (live or near-live)

**Router / Model Activity**
- Current primary route + fallback chain (as configured)
- Last N routing decisions (model picked, provider, tokens, latency if available)
- “Where did it run?” indicator:
  - LM Studio (4090): `http://10.10.10.98:1234`
  - Ollama (2080): `http://10.10.10.175:11434`
  - OpenRouter (external): only if explicitly allowed for the data involved

**Spend / Budget**
- Daily + monthly cost estimates per provider (from router `/health`)
- Optional caps/warnings (pure display; no hidden enforcement)

**Local Inference Health (NOT vibes, actual checks)**
- LM Studio reachable check (read-only): `/v1/models`
- Ollama reachable check (read-only): `/api/tags`
- If LM Studio is down, show “LM Studio unreachable → fallback ready” (no nagging)

**System Resource Signal (read-only)**
- Router process up/down + uptime
- Optional: CPU/RAM/Disk for the OpenClaw host (only if Mike runs scripts)
- Optional: GPU busy signal (ONLY if Mike explicitly enables a probe script on the 4090 host)

### What Arden can do (when explicitly asked)

- Draft scripts that Mike can run to collect metrics and write logs under `logs/system/`
- Summarize logs and highlight anomalies (spikes, failures, missing data)
- Maintain “known-good” checks and display verifiable status only

### Truth-rule enforcement (critical)
Arden must never claim “LM Studio is being used” or “GPU is active” unless at least one exists:
- Router evidence: log line / status output showing requests routed to `10.10.10.98:1234`
- Health evidence: successful HTTP check to the provider endpoint
- GPU evidence: command output from a probe (e.g., `nvidia-smi`) captured in logs

### What Arden will NOT do
- No sudo
- No host firewall/SSH changes
- No touching anything outside `/home/mikegg/.openclaw/workspace` unless Mike explicitly directs it
- No external API use for anything in `imports/` unless Mike explicitly approves

## 6. Interaction patterns (WebUI vs Telegram)

### WebUI

Use WebUI for:
- Creating/editing scripts in `scripts/`.
- Organizing logs and tasks.
- Running safe commands inside the workspace (no sudo, no external paths).
- Reviewing or refactoring configuration files in `configs/`.

### Telegram

Use Telegram for:
- Adding tasks quickly ("add a task to tasks/inbox.md to check backups this weekend").
- Asking for summaries ("summarize the latest logs in logs/system" once logs exist).
- Planning maintenance sessions ("help me plan an hour of sysadmin cleanup").

---

## 7. Next steps

A practical initial setup sequence:

1. **Create base directories**
   - `scripts/`
   - `logs/`
   - `tasks/`
   - `configs/`

2. **Scaffold core files**
   - `tasks/inbox.md`, `tasks/today.md`, `tasks/backlog.md`
   - `configs/schedule.md`, `configs/command-center.md`

3. **Design first script**
   - For example: a `scripts/maintenance/disk-usage.sh` that writes to `logs/system/`.
   - Arden will explain the script and then write it inside this workspace when you ask.

4. **Decide how you'll schedule things**
   - Cron, systemd timers, or manual runs.
   - Arden can generate the cron lines, but **you** apply them.

If you want, the **next step** can be: "Arden, create the directory structure and scaffold the `tasks/` and `configs/` files you described"—I'll explain the changes, then make them inside this workspace only.